---
title: Healthcare
description: Notification system for a healthcare management platform inspired by Amazon's One Medical. A structured blueprint for building an effective notification system that balances urgency, relevance, and signal-to-noise ratio in a complex healthcare environment.
authors:
  - name: Emil Pearce
    avatar: ./images/authors/bob.png
images:
  - ./images/Healthcare-app-inbox.png
  - ./images/Healthcare-app-inbox-page.png

ghSourceLink: https://github.com/novuhq/directory/tree/main/apps/healthcare
demoLink: https://inbox-directory.netlify.app/healthcare/
updatedAt: '2024-06-20'
license: 'MIT'
---

<Tabs>
<Tab title='Overview'>

Healthcare platforms like **One Medical** are crucial hubs for communication between patients, doctors, nurses, and administrators.

However, healthcare environments come with unique challenges:

- Critical updates (e.g., emergencies, lab results) must reach the right provider immediately
- Routine information (e.g., appointment reminders) needs to be delivered without creating alert fatigue
- Team coordination across locations and departments must be seamless
- Patient privacy (HIPAA compliance) must be maintained throughout all messaging

A naive notification system risks:

- Delaying urgent care due to slow or noisy alerts
- Missing legal compliance requirements
- Overwhelming medical staff with irrelevant updates

**The ideal system should deliver _critical, contextual, and role-appropriate notifications_ — in real time — while remaining unobtrusive for non-urgent information.**

## Understanding the Healthcare Service Management Structure

Platforms like **One Medical** organize users, operations, and services around multiple real-world groupings such as clinics, staff, patients, and departments.

Accurately mapping these entities ensures that notifications remain **targeted**, **scalable**, and **reliable** across the platform.

<Table>
  <TableCols cols={[124, 236, 286, 186, 254, 228]} />
  <TableRow>
    <TableCell>Entity</TableCell>
    <TableCell>Description</TableCell>
    <TableCell>Platform representation</TableCell>
    <TableCell>Novu concept</TableCell>
    <TableCell>Novu representation</TableCell>
    <TableCell>Notifiable events</TableCell>
  </TableRow>
  <TableRow>
    <TableCell>User</TableCell>
    <TableCell>Any platform user: Doctor, Nurse, Admin, or Patient.</TableCell>
    <TableCell>`user_123`</TableCell>
    <TableCell>Subscriber</TableCell>
    <TableCell>`user_123`</TableCell>
    <TableCell>
      - Provider-wide updates

      - Appointment schedules

      - Medical reports

      - Feedback requests
    </TableCell>

  </TableRow>
  <TableRow>
    <TableCell>Patient / Member</TableCell>
    <TableCell>Primary end user receiving healthcare services.</TableCell>
    <TableCell>`patient_user_123`</TableCell>
    <TableCell>Subscriber</TableCell>
    <TableCell>`patient_user_123`</TableCell>
    <TableCell>
      - Appointments

      - Checkups

      - Messages

      - Prescriptions

      - Billing notifications

</TableCell>

  </TableRow>
  <TableRow>
    <TableCell>Healthcare Provider</TableCell>
    <TableCell>
      Organizational entity representing a clinic or hospital.

      Groups staff members and patients under a unified entity.
    </TableCell>
    <TableCell>`healthProvider_123`</TableCell>
    <TableCell>Subscriber</TableCell>
    <TableCell>`healthProvider_123_user_123`</TableCell>
    <TableCell>
      - Provider-wide updates

      - Appointment schedules

      - Medical reports

      - Feedback requests

    </TableCell>

  </TableRow>
  <TableRow>
    <TableCell>Healthcare Provider Staff Group</TableCell>
    <TableCell>Grouping of all staff members under a healthcare provider.</TableCell>
    <TableCell>`healthProvider_123_staff`</TableCell>
    <TableCell>Topic (Dynamic) Subscriber (Permanent)</TableCell>
    <TableCell>
      Topic:

      `healthProvider_123_staff`

      Subscriber:

      `healthProvider_123_staff_userId`
    </TableCell>
    <TableCell>
      - Staff-wide announcements

      - Policy changes

    </TableCell>

  </TableRow>
  <TableRow>
    <TableCell>Healthcare Provider Role Group</TableCell>
    <TableCell>Grouping of staff members by specific roles (e.g., doctors, nurses, admins).</TableCell>
    <TableCell>`healthProvider_123_{role}`</TableCell>
    <TableCell>Topic (Dynamic) Subscriber (Permanent)</TableCell>
    <TableCell>
      Topic:

      `healthProvider_123_{role}`

      Subscriber:

      `healthProvider_123_{role}_userId`
    </TableCell>
    <TableCell>
      - Role-specific updates

      - Task assignments

    </TableCell>

  </TableRow>
  <TableRow>
    <TableCell>Healthcare Provider Admin</TableCell>
    <TableCell>Staff member managing the healthcare provider entity (invites, removals, records, governance).</TableCell>
    <TableCell>`healthProvider_123_admin`</TableCell>
    <TableCell>Subscriber</TableCell>
    <TableCell>`healthProvider_123_admin_userId`</TableCell>
    <TableCell>
      - Admin alerts

      - Critical updates
    </TableCell>

  </TableRow>
  <TableRow>
    <TableCell>Healthcare Provider Patient Group</TableCell>
    <TableCell>
      Grouping of all patients associated with a healthcare provider.

      Used for provider-specific announcements.
    </TableCell>
    <TableCell>`healthProvider_123_patients`</TableCell>
    <TableCell>Topic</TableCell>
    <TableCell>`healthProvider_123_patients`</TableCell>
    <TableCell>
      - New services

      - Provider announcements

      - Health advisories

    </TableCell>

  </TableRow>
  <TableRow>
    <TableCell>Appointment</TableCell>
    <TableCell>
      Represents a scheduled interaction involving healthcare staff and patients.

      Belongs to a healthcare provider, and may involve multiple staff members (e.g., treating doctor, department head).
    </TableCell>
    <TableCell>
      `{healthProviderId}_{department}_{appointmentId}_{userId}`

      Example:

      `healthProvider_123_cardiology_a1b2_user_123`
    </TableCell>
    <TableCell>Topic</TableCell>
    <TableCell>`healthProvider_123_cardiology_a1b2_user_123`</TableCell>
    <TableCell>
      - Appointment reminders

      - Preparation instructions

      - Post-appointment follow-up

    </TableCell>

  </TableRow>
  <TableRow>
    <TableCell>Department</TableCell>
    <TableCell>Logical grouping of staff members within a healthcare provider based on specialty or organizational unit.</TableCell>
    <TableCell>`healthProvider_123_{department}`</TableCell>
    <TableCell>Topic</TableCell>
    <TableCell>`healthProvider_123_{department}`</TableCell>
    <TableCell>
      - Department updates

      - Internal coordination

    </TableCell>

  </TableRow>
  <TableRow>
    <TableCell>Message</TableCell>
    <TableCell>Represents a conversation thread among multiple parties (e.g., staff-to-staff, staff-to-patient, cross-provider).</TableCell>
    <TableCell>
      `{msgId}_{memberId1}_{memberId2}`

      Example:

      `msg_a1b2_patient_user_123_healthProvider_123_staff_userId`
    </TableCell>
    <TableCell>Topic</TableCell>
    <TableCell>`msg_a1b2_patient_user_123_healthProvider_123_staff_userId`</TableCell>
    <TableCell>
      - New messages

      - Replies

      - Message thread updates
    </TableCell>

  </TableRow>
</Table>

</Tab>

<Tab title='Implementation'>

### Installation

#### 1. Install the Novu In-App SDK

```bash
npm install @novu/nextjs
```

#### 2. Set Your API Credentials

Add your Novu application identifier to your `.env` file. The subscriber ID should be dynamically fetched from your authentication system:

```env
NOVU_APPLICATION_IDENTIFIER=your_app_id
```

**Note**: The `subscriberId` should be dynamically retrieved from your authentication system to ensure consistency across your application's databases and services.

#### 3. Configure the Inbox Component

<CodeTabs
  codeBlocks={[
    {
      language: 'JavaScript',
      code: `
import { Inbox, InboxContent } from '@novu/nextjs';

export function NovuInbox() {
  // Get subscriber ID from your auth system
  const subscriberId = getCurrentUserId(); // Replace with your auth logic

// Don't render if environment variables are missing
if (!applicationIdentifier || !subscriberId) {
return (

<div className="text-gray-500 p-4 text-center">
  <p>Notifications not configured</p>
  <p className="text-sm">Please set up Novu environment variables</p>
</div>
); }

const tabs = [
{
label: 'All',
filter: {},
},
{
label: 'Messages',
filter: { tags: ['Messages'] },
},
{
label: 'Appointments',
filter: { tags: ['Appointments'] },
},
{
label: 'Medications',
filter: { tags: ['Medications'] },
},
{
label: 'Billing',
filter: { tags: ['Billing'] },
},
];

const inboxConfig = {
applicationIdentifier,
subscriberId,
tabs,
appearance: {
elements: {
inboxHeader: {
display: 'none',
},
inbox\_\_popoverTrigger: {
display: 'none',
},
},
},
};

return (

<>
<style jsx global>{\`
.nv-notification:has(.nv-notificationDot) {
background-color: rgb(240 249 255 / var(--tw-bg-opacity, 1)) !important;
}
\`}</style>
<Inbox {...inboxConfig}>
<InboxContent />
</Inbox>
</>
);
}
`,
}
]}
/>

### Features

- **Categorized Notifications**: Separate tabs for Messages, Appointments, Medications, and Billing
- **Custom Styling**: Tailored appearance for healthcare applications
- **Environment Validation**: Graceful handling of missing configuration
- **Responsive Design**: Works across all device sizes
- **Novu Hooks**: Built-in hooks for unread count and notification management

### Novu Hooks Implementation

The template includes custom hooks for managing notification state:

<CodeTabs
  codeBlocks={[
    {
      language: 'JavaScript',
      code: `
'use client';

import { Novu } from '@novu/js';
import React from 'react';

const applicationIdentifier = process.env.NEXT_PUBLIC_NOVU_APPLICATION_IDENTIFIER;
const subscriberId = process.env.NEXT_PUBLIC_NOVU_SUBSCRIBER_ID;

// Only initialize Novu if environment variables are available
const novu = applicationIdentifier && subscriberId
? new Novu({
applicationIdentifier,
subscriberId,
})
: null;

export function useUnreadCount() {
  const [count, setCount] = React.useState(0);

React.useEffect(() => {
// Don't run if Novu is not initialized
if (!novu) {
console.warn('Novu not initialized - missing environment variables');
return;
}

    // Only run in browser environment
    if (typeof window === 'undefined') {
      return;
    }

    async function fetchUnreadCount() {
      try {
        const result = await novu?.notifications.count({
          filters: [{ read: false }],
        });
        // Sum up all counts from the filters
        const totalCount = result?.data?.counts?.reduce((sum, item) => sum + item.count, 0) || 0;
        setCount(totalCount);
      } catch (error) {
        console.error('Failed to fetch unread count:', error);
        setCount(0);
      }
    }

    fetchUnreadCount();

    // Set up a polling mechanism to check for updates
    const intervalId = setInterval(fetchUnreadCount, 5000); // Check every 5 seconds

    // Cleanup interval on unmount
    return () => {
      clearInterval(intervalId);
    };

}, []);

return count;
}

export async function markAllAsRead() {
  if (!novu) {
    console.warn('Novu not initialized - cannot mark notifications as read');
    return;
  }

// Only run in browser environment
if (typeof window === 'undefined') {
return;
}

await novu.notifications.readAll({});
}
`,
}
]}
/>

**Usage Example:**

```javascript
import { useUnreadCount, markAllAsRead } from './novu-hooks';

function NotificationBadge() {
  const unreadCount = useUnreadCount();

  return (
    <div>
      <span>Notifications ({unreadCount})</span>
      {unreadCount > 0 && <button onClick={markAllAsRead}>Mark all as read</button>}
    </div>
  );
}
```

</Tab>
</Tabs>
